import{l as h,A as d,C as f,_ as m,m as x,p as C,q as _,u as A,o as T,c as $}from"./app-CEs72Prk.js";function i(t){return h(d,{href:t.href},t.label)}function b(t){const e=s=>{const r=[],n=/<Anchor href="([^"]+)">([\s\S]*?)<\/Anchor>/g;let l=0,o;for(;(o=n.exec(s))!==null;){const[c,a,u]=o,p=o.index;l<p&&r.push(h("span",{innerHTML:s.slice(l,p)})),r.push(i({href:a,label:u})),l=n.lastIndex}return l<s.length&&r.push(h("span",{innerHTML:s.slice(l)})),h("span",r)};return h(f,t.props,()=>e(t.slotContent))}const g=x({name:"ComponentRenderer",props:{content:{type:String,required:!0}},setup(t){const e=C([]),s=()=>{e.value=[];let n=t.content;return n=n.replace(/<CollapsableText\s([^>]*)>([\s\S]*?)<\/CollapsableText>/g,(l,o,c)=>{const a=`collapsable-placeholder-${e.value.length}`;return e.value.push({type:"CollapsableText",slotContent:c,props:r(o),placeholder:a}),`<span data-placeholder="${a}"></span>`}),n=n.replace(/<Anchor href="([^"]+)">([\s\S]*?)<\/Anchor>/g,(l,o,c)=>{const a=`anchor-placeholder-${e.value.length}`;return e.value.push({type:"Anchor",href:o,label:c,placeholder:a}),`<span data-placeholder="${a}"></span>`}),n},r=n=>{const l={},o=/(:?)(\w+)=(["'])(.*?)\3/g;let c;for(;c=o.exec(n);){const[,a,u,,p]=c;l[u]=a?JSON.parse(p):p}return l};return{parsedHtml:s,componentsData:e}},mounted(){_(()=>{const t=this.$el;t.innerHTML=this.parsedHtml(),this.componentsData.forEach(e=>{const s=t.querySelector(`[data-placeholder="${e.placeholder}"]`);if(s){let r;e.type==="Anchor"?r=i(e):e.type==="CollapsableText"&&(r=b(e));const n=document.createElement("span");s.replaceWith(n),A(r).mount(n)}})})}}),S={ref:"htmlContainer"};function v(t,e,s,r,n,l){return T(),$("div",S,null,512)}const H=m(g,[["render",v],["__file","ComponentRenderer.vue"]]);export{H as C};
